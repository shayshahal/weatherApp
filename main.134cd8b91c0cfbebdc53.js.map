{"version":3,"file":"main.134cd8b91c0cfbebdc53.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;;;ACfA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,sFAAsF,MAAM,SAAS,mBAAmB;AACxH;AACA;AACA;AACO;AACP;AACA,sFAAsF,oBAAoB;AAC1G;AACA;AACA;;;;;ACjBgD;AAC5B;AACqB;;AAEzC;AACA,MAAM,YAAQ;AACd;AACA;AACA;AACA,YAAY;;;AAGZ;AACA;AACA;AACA;AACA,0BAA0B,UAAU;AACpC;AACA;AACA,QAAQ,YAAQ;AAChB;AACA;AACA,sDAAsD,oBAAoB;AAC1E;AACA;AACA;AACA;AACA,QAAQ,YAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,YAAQ;AAChB;AACA,uBAAuB,uBAAM;AAC7B,sBAAsB,uBAAM;AAC5B,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iB","sources":["webpack://weatherapp/webpack/bootstrap","webpack://weatherapp/webpack/runtime/global","webpack://weatherapp/webpack/runtime/publicPath","webpack://weatherapp/./src/logic/apiHandler.js","webpack://weatherapp/./src/DOM/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","const keys = {\n    'weatherApi' : '519901a9b0492b434e86015cdf5f4227',\n    'abstractApi': '1b07984699ad4daba476457930a2222f',\n};\nexport async function getWeather(input)\n{\n    if(!input)\n        input = await getVisitorLocation();\n    const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${input}&appid=${keys['weatherApi']}`);\n    const data = await response.json();\n    return data;\n}\nexport async function getVisitorLocation()\n{\n    const response = await fetch(`https://ipgeolocation.abstractapi.com/v1/?api_key=${keys['abstractApi']}`);\n    const data = await response.json();\n    return data.country;\n}\n","import { getWeather} from \"../logic/apiHandler\";\nimport './style.css'\nimport loader from './assets/spinner.svg'\n\nconst search = document.getElementById('search')\nconst location = document.getElementById('location');\nconst tempText = document.getElementById('tempText')\nconst img = document.querySelector('img');\nconst swtch = document.getElementById('switch');\nlet temp = {true: null, false: null, isCelsius: true};\n\n\nasync function presentWeather()\n{\n    try\n    {\n        const res = await getWeather(search.value);\n        if(res.cod === '404')\n            throw res.message;\n        location.textContent = res.sys.country + ', ' + res.name;\n        calcTemp(res.main.temp);\n        tempText.textContent = temp[temp.isCelsius];\n        img.src = `http://openweathermap.org/img/wn/${res.weather[0].icon}@2x.png`;\n    }\n    catch(error)\n    {\n        tempText.textContent = '';\n        location.textContent = error;\n        img.src = ''\n    }\n}\nfunction debounce(fnc, delay = 1000)\n{ \n    let timeout;\n    return (...args)=> {\n        clearTimeout(timeout);\n        location.textContent = 'Looking...';\n        tempText.textContent = '';\n        if(img.src !== loader)\n            img.src = loader;\n        timeout = setTimeout(()=> {fnc(...args)}, delay)\n    };\n}\nfunction calcTemp(num)\n{\n    temp.true = ~~(num - 273.15) + '℃';\n    temp.false = ~~((num - 273.15)*1.8)+32 + '℉';\n}\n\nsearch.addEventListener('input',debounce(presentWeather));\n\nswtch.addEventListener('change', ()=>tempText.textContent = temp[temp.isCelsius = !swtch.checked]);\ndocument.addEventListener('keydown',(e) =>\n{\n    if(e.key ==='Escape' || e.key === 'Enter')\n        search.blur();\n})\npresentWeather();"],"names":[],"sourceRoot":""}